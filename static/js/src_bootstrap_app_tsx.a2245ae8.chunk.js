(globalThis.webpackChunkle_flash=globalThis.webpackChunkle_flash||[]).push([["src_bootstrap_app_tsx"],{45597:(A,e,t)=>{"use strict";Object.defineProperty(e,"X$",{value:!0}),Object.defineProperty(e,"jY",{enumerable:!0,get:function(){return r.default}}),e.h0=void 0,Object.defineProperty(e,"ng",{enumerable:!0,get:function(){return s.default}});var i=n(t(70854)),r=n(t(69363)),s=n(t(83272));function n(A){return A&&A.__esModule?A:{default:A}}const a=[i.default];e.h0=a},9981:(A,e,t)=>{"use strict";t.r(e),t.d(e,{Background:()=>oA,Layout:()=>aA,Page:()=>cA,__esModule:()=>sA.X$,logo:()=>sA.jY,panels:()=>sA.h0,readme:()=>sA.ng});var i=t(92950),r=t(55754),s=t(49471),n=t(45055),a=t(32671),o=t(69716);const c={appId:"le_flash",url:"https://descartesnetwork.github.io/senhub/index.js"},d={devnet:{node:"https://api.devnet.solana.com",leFlashId:"3E8eFwLQhHgtzqAnestzG7SeZUWYH7BZLf8m9EGa8wJH"},testnet:{node:"https://api.testnet.solana.com",leFlashId:"3E8eFwLQhHgtzqAnestzG7SeZUWYH7BZLf8m9EGa8wJH"},mainnet:{node:"https://api.mainnet-beta.solana.com",leFlashId:"3E8eFwLQhHgtzqAnestzG7SeZUWYH7BZLf8m9EGa8wJH"}},l={development:{senApiUpload:"https://api.sentre.io/storage/upload",aws:"https://sen-storage.s3.us-west-2.amazonaws.com/"},production:{senApiUpload:"https://api.sentre.io/storage/upload",aws:"https://sen-storage.s3.us-west-2.amazonaws.com/"}},u={manifest:{development:{...c},production:{...c}}[s.env],sol:d[s.net],api:l[s.env]},{manifest:{appId:g}}=u;var p=t(45263);const m=[{label:"Dashboard",key:"dashboard",icon:(0,p.jsx)(o.Z,{name:"images-outline"})},{label:"Airdrop",key:"airdrop",icon:(0,p.jsx)(o.Z,{name:"airplane-outline"})}],h=()=>{const[A,e]=(0,i.useState)("dashboard"),{pathname:t}=(0,n.useLocation)(),{appRoute:r,pushHistory:s}=(()=>{const A=(0,n.useLocation)(),e=(0,n.useHistory)(),t=(0,i.useMemo)((()=>new URLSearchParams(A.search)),[A.search]),r=(0,i.useCallback)((A=>t.get(A)),[t]),s=(0,i.useCallback)((A=>{const e=new URLSearchParams;for(const t in A)e.set(t,A[t]);return e.toString()}),[]),a=(0,i.useMemo)((()=>`/app/${g}`),[]);return{getQuery:r,generateQuery:s,pushHistory:(0,i.useCallback)((A=>e.push(`${a}${A}`)),[a,e]),appRoute:a}})(),o=(0,i.useCallback)((()=>{const A=t.replace(`${r}/`,""),i=A.indexOf("/");return e(-1===i?A:A.slice(0,i))}),[r,t]);return(0,i.useEffect)((()=>{o()}),[o]),(0,p.jsx)(a.Row,{className:"header",children:(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Menu,{selectedKeys:[A],items:m,mode:"horizontal",onSelect:async A=>s("/"+A.key)})})})},y=()=>(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Button,{type:"primary",children:"Primary"}),(0,p.jsx)(a.Button,{ghost:!0,type:"ghost",children:"Gh"})]});var I=t(51518),B=t.n(I);const E=A=>{let{address:e}=A;const[t,r]=(0,i.useState)(!1);return(0,p.jsxs)(a.Space,{children:[(0,p.jsx)(a.Typography.Text,{type:"secondary",className:"t-16",children:s.util.shortenAddress(e,3)}),(0,p.jsx)(a.Tooltip,{title:"Copied",visible:t,children:(0,p.jsx)(B(),{text:e,onCopy:async()=>{r(!0),await s.util.asyncWait(1500),r(!1)},children:(0,p.jsx)(a.Typography.Text,{style:{cursor:"pointer"},className:"t-16",children:(0,p.jsx)(o.Z,{name:"copy-outline"})})})})]})};var C=t(50794),w=t(67096);const x=()=>(0,i.useMemo)((()=>new w.I(s.connection)),[]),Q=()=>{const[A,e]=(0,i.useState)([]),t=x(),r=(0,s.useWalletAddress)(),n=(0,i.useCallback)((async()=>{const A=await t.nfts().findAllByOwner({owner:new C.rV.PublicKey(r)});return e(A)}),[r,t]);return(0,i.useEffect)((()=>{n()}),[n]),A},f=A=>{var e,t;let{mintAddress:r,onSelect:s,showName:n=!1,size:o}=A;const{nftData:c,loading:d}=(A=>{const[e,t]=(0,i.useState)(!1),[r,s]=(0,i.useState)(),n=x(),a=(0,i.useCallback)((async()=>{try{t(!0);const e=await n.nfts().findByMint({mintAddress:new C.rV.PublicKey(A)});return s(e)}catch(e){console.log(e)}finally{t(!1)}}),[n,A]);return(0,i.useEffect)((()=>{a()}),[a]),{nftData:r,loading:e}})(r);return(0,p.jsx)(a.Spin,{spinning:d,children:(0,p.jsxs)(a.Row,{gutter:[12,12],style:{cursor:"pointer"},children:[(0,p.jsx)(a.Col,{span:24,style:{textAlign:"center",width:o},onClick:()=>s?s(r):null,children:(0,p.jsx)(a.Image,{src:(null===c||void 0===c||null===(e=c.json)||void 0===e?void 0:e.image)||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAJYCAYAAACadoJwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABbySURBVHgB7d2NTht3vsfh2S5NgPDahHIQ6v1fUKW9gQhFUUoxL00INMnJzxzv5nQbz9ie+WKb55GsdovBiFnBfPx/+8evv/7rSwMAADC8Lz80AAAAIQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAA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o6OXpmM9EXW9a/Srrj0A8/EXE2AB9S64dQBPQy24r2stPgAWYwQEYEEVH69fn413vdrdfbFWp6Hzn+2Xawc0ABbnryRAT+oGtd4d39zcHJ8jIURW2/39n+PT77scQAlAd/46AvSoRkMqQupR52pUjGxtPW/++c+N5scfN6wVWVIVGJ8+ff4aHXfNhw8fx9OtnG4OMAwBAjCQuomtx9c30AGA/+OtOAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAIAYAQIAAMQIEAAAIEaAAAAAMQIEAACIESAAAECMAAEAAGIECAAAECNAAACAGAECAADECBAAACBGgAAAADECBAAAiBEgAABAjAABAABiBAgAABAjQAAAgBgBAgAAxAgQAAAgRoAAAAAxAgQAAIgRIAAAQIwAAQAAYgQIAAAQI0AAAICYjQYAAGA2X5r5fPlf5FkMkmAd32wAAAAASUVORK5CYII=",preview:!1,style:{borderRadius:4,aspectRatio:"1",objectFit:"cover"}})}),n&&(0,p.jsx)(a.Col,{span:24,style:{textAlign:"left"},children:(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Title,{ellipsis:{tooltip:!0},level:5,children:(null===c||void 0===c?void 0:c.name)||(null===c||void 0===c||null===(t=c.json)||void 0===t?void 0:t.name)})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(E,{address:r})})]})})]})})},b=A=>{let{mintAddresses:e,onSelect:t=(()=>{})}=A;return(0,p.jsx)(a.Row,{gutter:[8,8],className:"scrollbar",style:{maxHeight:400,overflowY:"hidden"},children:e.map((A=>(0,p.jsx)(a.Col,{onClick:()=>t(A),span:8,children:(0,p.jsx)(f,{mintAddress:A,showName:!0})},A)))})},j=()=>{const[A,e]=(0,i.useState)(!1),t=(A=>{const e=Q();return(0,i.useMemo)((()=>{const t=[];for(const i of e)i.collection&&i.collection.address.toBase58()===A&&t.push(i);return t}),[A,e])})((0,r.useSelector)((A=>{let{main:e}=A;return e.collection}))),s=t.map((A=>A.mintAddress.toBase58()));return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(a.Button,{icon:(0,p.jsx)(o.Z,{name:"chevron-down-outline"}),type:"ghost",ghost:!0,block:!0,onClick:()=>e(!0),children:"Select Nft"}),(0,p.jsx)(a.Modal,{visible:A,closeIcon:(0,p.jsx)(o.Z,{name:"close-outline"}),onCancel:()=>e(!1),footer:null,style:{paddingBottom:0},children:(0,p.jsxs)(a.Row,{gutter:[0,24],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Title,{level:4,children:"Select a NFT"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(b,{mintAddresses:s})})]})})]})},v=()=>(0,p.jsx)(a.Card,{children:(0,p.jsxs)(a.Row,{gutter:[16,16],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{align:"middle",children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsx)(a.Typography.Title,{level:4,children:"Wallet Address"})}),(0,p.jsx)(a.Button,{children:"Auto fill"})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{gutter:16,children:[(0,p.jsx)(a.Col,{span:14,children:(0,p.jsx)(a.Input,{placeholder:"Input recipient's address"})}),(0,p.jsx)(a.Col,{span:8,children:(0,p.jsx)(j,{})}),(0,p.jsx)(a.Col,{span:2,children:(0,p.jsx)(a.Button,{type:"ghost",ghost:!0,icon:(0,p.jsx)(o.Z,{name:"add-circle-outline"}),block:!0})})]})}),(0,p.jsx)(a.Col,{span:24}),(0,p.jsx)(a.Col,{span:24,style:{textAlign:"right"},children:(0,p.jsx)(a.Button,{type:"primary",children:"CONFIRM"})})]})});var M=t(19289);const P="main",S=(0,M.createAsyncThunk)("main/setCollection",(async A=>({collection:A}))),R=(0,M.createSlice)({name:P,initialState:{collection:""},reducers:{},extraReducers:A=>{A.addCase(S.fulfilled,((A,e)=>{let{payload:t}=e;Object.assign(A,t)}))}}).reducer,K=()=>{const[A,e]=(0,i.useState)(!1),t=(()=>{const A=Q();return(0,i.useMemo)((()=>{const e=[];for(const{collection:t}of A){if(!t)continue;const A=t.address.toBase58();e.includes(A)||e.push(A)}return e}),[A])})(),s=(0,r.useDispatch)();return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(a.Button,{icon:(0,p.jsx)(o.Z,{name:"chevron-down-outline"}),type:"ghost",ghost:!0,block:!0,onClick:()=>e(!0),children:"Select collections NFT"}),(0,p.jsx)(a.Modal,{visible:A,closeIcon:(0,p.jsx)(o.Z,{name:"close-outline"}),onCancel:()=>e(!1),footer:null,style:{paddingBottom:0},children:(0,p.jsxs)(a.Row,{gutter:[0,24],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Title,{level:4,children:"Select a collection NFT"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(b,{onSelect:A=>{s(S(A)),e(!1)},mintAddresses:t})})]})})]})};const D=t.p+"static/media/icon-upload.cc31bf153c9179ce624dd23711edb5ac.svg",G=()=>(0,p.jsx)(a.Card,{bordered:!0,children:(0,p.jsxs)(a.Row,{gutter:[24,24],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{children:[(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{direction:"vertical",children:[(0,p.jsx)(a.Typography.Title,{level:5,children:"Select your collection airdrop"}),(0,p.jsx)(K,{})]})}),(0,p.jsx)(a.Col,{flex:"auto",children:(0,p.jsxs)(a.Space,{direction:"vertical",children:[(0,p.jsx)(a.Typography.Title,{level:5,children:"Balance"}),"--"]})})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsxs)(a.Row,{gutter:24,children:[(0,p.jsx)(a.Col,{span:12,children:(0,p.jsxs)(a.Space,{direction:"vertical",children:[(0,p.jsx)(a.Typography.Title,{level:5,children:"Start time"}),(0,p.jsx)(a.DatePicker,{})]})}),(0,p.jsx)(a.Col,{span:12,children:(0,p.jsxs)(a.Space,{direction:"vertical",children:[(0,p.jsx)(a.Typography.Title,{level:5,children:"End time"}),(0,p.jsx)(a.DatePicker,{})]})})]})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Spin,{spinning:!1,children:(0,p.jsx)(a.Upload.Dragger,{accept:".csv,.txt",maxCount:1,className:"upload-file",showUploadList:!0,progress:{strokeWidth:2,showInfo:!0},fileList:[],children:(0,p.jsxs)(a.Space,{direction:"vertical",size:24,align:"center",children:[(0,p.jsx)(a.Image,{src:D,preview:!1}),(0,p.jsxs)(a.Space,{direction:"vertical",size:4,align:"center",children:[(0,p.jsx)(a.Typography.Text,{children:"Click or Drop file to upload"}),(0,p.jsxs)(a.Typography.Text,{type:"secondary",children:["The accepted file types are ",(0,p.jsx)("code",{children:".csv"}),","," ",(0,p.jsx)("code",{children:".txt"}),"."]})]})]})})})})]})}),T=()=>(0,p.jsxs)(a.Row,{gutter:[32,32],children:[(0,p.jsx)(a.Col,{xs:24,md:8,children:(0,p.jsx)(G,{})}),(0,p.jsx)(a.Col,{xs:24,md:16,children:(0,p.jsx)(v,{})})]}),k=()=>(0,p.jsxs)(a.Row,{gutter:[32,32],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(a.Typography.Title,{level:3,children:"Airdrops"})}),(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(T,{})})]}),N=()=>{const{root:A,extend:e}=(0,s.useAppRoute)();return(0,p.jsxs)(a.Row,{gutter:[0,24],children:[(0,p.jsx)(a.Col,{span:24,children:(0,p.jsx)(h,{})}),(0,p.jsx)(a.Col,{xs:24,xxl:16,className:"container",children:(0,p.jsxs)(n.Switch,{children:[(0,p.jsx)(n.Route,{exact:!0,path:e("/dashboard"),component:y}),(0,p.jsx)(n.Route,{exact:!0,path:e("/airdrop"),component:k}),(0,p.jsx)(n.Redirect,{from:"*",to:`${A}/dashboard`})]})})]})};var Y=t(4065),V=t(59186);var O=t(7867);O.bs58.encode(C.Wr.accountDiscriminator("distributor")),O.bs58.encode(C.Wr.accountDiscriminator("receipt"));const q={version:"0.1.0",name:"le_flash",instructions:[{name:"initializePool",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!0},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mintLpt",isMut:!0,isSigner:!0},{name:"associatedTokenAccountLpt",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"mint",type:"publicKey"},{name:"treasury",type:"publicKey"}]},{name:"deposit",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"cheque",isMut:!0,isSigner:!0},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mintLpt",isMut:!0,isSigner:!1},{name:"associatedTokenAccountLpt",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"srcAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"recipient",type:"publicKey"}]},{name:"withdraw",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mintLpt",isMut:!0,isSigner:!1},{name:"associatedTokenAccountLpt",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"dstAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amountOut",type:"u64"}]},{name:"withdrawNft",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"pool",isMut:!0,isSigner:!1},{name:"cheque",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mintLpt",isMut:!0,isSigner:!1},{name:"associatedTokenAccountLpt",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"dstAssociatedTokenAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"closeCheque",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"cheque",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeDistributor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"merkleRoot",type:{array:["u8",32]}},{name:"total",type:"u64"},{name:"endedAt",type:"i64"},{name:"startedAt",type:"i64"},{name:"metadata",type:{array:["u8",32]}},{name:"fee",type:"u64"}]},{name:"claim",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"proof",type:{vec:{array:["u8",32]}}},{name:"amount",type:"u64"},{name:"startedAt",type:"i64"},{name:"salt",type:{array:["u8",32]}},{name:"fee",type:"u64"},{name:"recipient",type:"publicKey"}]}],accounts:[{name:"cheque",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"pool",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"amount",type:"u64"}]}},{name:"distributor",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"merkleRoot",type:{array:["u8",32]}},{name:"total",type:"u64"},{name:"claimed",type:"u64"},{name:"endedAt",type:"i64"},{name:"startedAt",type:"i64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"pool",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"pool",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"treasury",type:"publicKey"},{name:"mintLpt",type:"publicKey"}]}},{name:"receipt",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"distributor",type:"publicKey"},{name:"recipient",type:"publicKey"},{name:"startedAt",type:"i64"},{name:"claimedAt",type:"i64"},{name:"salt",type:{array:["u8",32]}}]}}],events:[{name:"CloseChequeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"cheque",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1}]},{name:"DepositEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"cheque",type:"publicKey",index:!1},{name:"amountIn",type:"u64",index:!1},{name:"lptPrintAmount",type:"u64",index:!1}]},{name:"InitializePoolEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"treasury",type:"publicKey",index:!1}]},{name:"ClaimEvent",fields:[{name:"destination",type:"publicKey",index:!1},{name:"recipient",type:"publicKey",index:!1},{name:"startedAt",type:"i64",index:!1},{name:"claimedAt",type:"i64",index:!1},{name:"claimed",type:"u64",index:!1}]},{name:"InitializeDistributorEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"distributor",type:"publicKey",index:!1},{name:"merkleRoot",type:{array:["u8",32]},index:!1},{name:"total",type:"u64",index:!1},{name:"endedAt",type:"i64",index:!1},{name:"metadata",type:{array:["u8",32]},index:!1}]},{name:"RevokeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"distributor",type:"publicKey",index:!1},{name:"remaining",type:"u64",index:!1}]},{name:"WithdrawNFTEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"cheque",type:"publicKey",index:!1}]},{name:"WithdrawEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"pool",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amountOut",type:"u64",index:!1},{name:"amountLpt",type:"u64",index:!1}]}],errors:[{code:6e3,name:"InvalidNftCollection",msg:"Invalid NFT collection"},{code:6001,name:"NotWithDraw",msg:"NFT has not been retrieved"},{code:6002,name:"Overflow",msg:"Operation overflowed"},{code:6003,name:"InvalidMerkleProof",msg:"Invalid merkle proof"},{code:6004,name:"InvalidCurrentDate",msg:"Cannot get current date"},{code:6005,name:"EndedCampaign",msg:"The campaign has been ended"},{code:6006,name:"NotStartedCampaign",msg:"The campaign is not started yet"},{code:6007,name:"NotEndedCampaign",msg:"The campaign is not ended yet"},{code:6008,name:"NoBump",msg:"Cannot derive the program address"}]},H=function(){let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new C.rV.Keypair).publicKey.toBase58();return{fee:new C.BN(0),feeCollectorAddress:A}};var z=t(71256),L=t(38073),U=t(97429).Buffer;const W=A=>{if(!A)return!1;try{if(!new C.rV.PublicKey(A))throw new Error("Invalid public key");return!0}catch(e){return!1}},X=async A=>await L.O2.metadata.Metadata.getPDA(new C.rV.PublicKey(A)),F=async(A,e,t,i)=>{const[r]=await C.rV.PublicKey.findProgramAddress([U.from("receipt"),A,e.toBuffer(),t.toBuffer()],i);return r};var Z=t(97429).Buffer;const J={rent:C.rV.SYSVAR_RENT_PUBKEY,systemProgram:C.rV.SystemProgram.programId,associatedTokenProgram:C.P6.token.ASSOCIATED_PROGRAM_ID,tokenProgram:V.H_};const _=class{constructor(A,e){var t=this;if(this._provider=void 0,this.program=void 0,this.deriveTreasurerAddress=async A=>{if("string"!==typeof A&&(A=A.toBase58()),!W(A))throw new Error("Invalid pool address");const e=new C.rV.PublicKey(A),[t]=await C.rV.PublicKey.findProgramAddress([Z.from("treasurer"),e.toBuffer()],this.program.programId);return t.toBase58()},this.deriveChequeAddress=async function(A){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!W(A))throw new Error("Invalid proposal address");const i=new C.rV.PublicKey(A),r=t._provider.wallet.publicKey,[s]=await await C.rV.PublicKey.findProgramAddress([Z.from("cheque"),i.toBuffer(),r.toBuffer()],t.program.programId),n=s.toBase58();if(e){let e,i;try{const{authority:A,pool:r}=await t.getChequeData(n);e=A.toBase58(),i=r.toBase58()}catch(a){throw new Error(`This cheque ${n} is not initialized yet`)}if(t._provider.wallet.publicKey.toBase58()!==e)throw new Error("Violated authority address");if(A!==i)throw new Error("Violated proposal address")}return n},this.getPoolData=async A=>this.program.account.pool.fetch(A),this.getChequeData=async A=>this.program.account.cheque.fetch(A),this.fetchCheques=async()=>this.program.account.cheque.all(),this.initializePool=async A=>{let{pool:e=C.rV.Keypair.generate(),mintLpt:t=C.rV.Keypair.generate(),sendAndConfirm:i=!0,mint:r}=A;const s=e,n=s.publicKey.toBase58(),a=await this.deriveTreasurerAddress(n),o=await C.P6.token.associatedAddress({mint:new C.rV.PublicKey(t.publicKey),owner:new C.rV.PublicKey(this._provider.wallet.publicKey)}),c=await C.P6.token.associatedAddress({mint:new C.rV.PublicKey(r),owner:new C.rV.PublicKey(a)}),d=await this.program.methods.initializePool(r,c).accounts({associatedTokenAccountLpt:o,authority:this._provider.wallet.publicKey,mintLpt:t.publicKey,pool:n,treasurer:a,...J}).transaction();let l="";return i&&(this._provider.opts.skipPreflight=!0,l=await this._provider.sendAndConfirm(d,[s,t])),{txId:l,poolAddress:s.publicKey.toBase58(),tx:d}},this.deposit=async A=>{let{recipient:e=this._provider.wallet.publicKey.toBase58(),poolAddress:t,sendAndConfirm:i=!0,mintNFTAddress:r,chequeKeypair:s=C.rV.Keypair.generate()}=A;const n=new C.rV.PublicKey(e),{mintLpt:a}=await this.getPoolData(t),o=await this.deriveTreasurerAddress(t),c=(await X(new C.rV.PublicKey(r))).toBase58(),d=await C.P6.token.associatedAddress({mint:a,owner:new C.rV.PublicKey(this._provider.wallet.publicKey)}),l=await C.P6.token.associatedAddress({mint:new C.rV.PublicKey(r),owner:new C.rV.PublicKey(this._provider.wallet.publicKey)}),u=await C.P6.token.associatedAddress({mint:new C.rV.PublicKey(r),owner:new C.rV.PublicKey(o)}),g=s.publicKey.toBase58();let p=await this.program.methods.deposit(n).accounts({authority:this._provider.wallet.publicKey,pool:t,associatedTokenAccountLpt:d,mint:r,mintLpt:a,srcAssociatedTokenAccount:l,treasurer:o,treasury:u,cheque:g,metadata:c,...J}).transaction(),m="";return i&&(this._provider.opts.skipPreflight=!0,m=await this._provider.sendAndConfirm(p,[s])),{txId:m,tx:p,chequeAddress:s.publicKey.toBase58()}},this.withdrawNFT=async A=>{let{chequeAddress:e,sendAndConfirm:t=!0}=A;const{pool:i,mint:r}=await this.getChequeData(e),{mintLpt:s}=await this.getPoolData(i),n=await this.deriveTreasurerAddress(i),a=(await X(new C.rV.PublicKey(r))).toBase58(),o=await C.P6.token.associatedAddress({mint:s,owner:new C.rV.PublicKey(this._provider.wallet.publicKey)}),c=await C.P6.token.associatedAddress({mint:r,owner:new C.rV.PublicKey(this._provider.wallet.publicKey)}),d=await C.P6.token.associatedAddress({mint:new C.rV.PublicKey(r),owner:new C.rV.PublicKey(n)});let l=await this.program.methods.withdrawNft().accounts({authority:this._provider.wallet.publicKey,pool:i,associatedTokenAccountLpt:o,mint:r,mintLpt:s,dstAssociatedTokenAccount:c,treasurer:n,treasury:d,metadata:a,cheque:e,...J}).transaction(),u="";return t&&(u=await this._provider.sendAndConfirm(l,[])),{txId:u,tx:l}},this.closeCheque=async A=>{let{chequeAddress:e,sendAndConfirm:t=!0}=A;const i=new C.rV.PublicKey(e),r=await this.program.methods.closeCheque().accounts({authority:this._provider.wallet.publicKey,cheque:i,...J}).transaction();let s="";return console.log(r,"tx"),t&&(s=await this._provider.sendAndConfirm(r,[])),{txId:s,tx:r}},this.parseDistributorData=A=>this.program.coder.accounts.decode("distributor",A),this.getDistributorData=async A=>this.program.account.distributor.fetch(A),this.parseReceiptData=A=>this.program.coder.accounts.decode("receipt",A),this.getReceiptData=async A=>this.program.account.receipt.fetch(A),this.deriveReceiptAddress=async function(A,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(32!==A.length)throw new Error("The salt must has length 32");if(!W(e))throw new Error("Invalid distributor address");const r=await F(A,new C.rV.PublicKey(e),t._provider.wallet.publicKey,t.program.programId),s=r.toBase58();if(i){let i,r,a;try{const{authority:A,distributor:e,salt:n}=await t.getReceiptData(s);i=A.toBase58(),r=e.toBase58(),a=Z.from(n)}catch(n){throw new Error(`This receipt ${s} is not initialized yet`)}if(t._provider.wallet.publicKey.toBase58()!==i)throw new Error("Violated authority address");if(e!==r)throw new Error("Violated proposal address");if(0!==A.compare(a))throw new Error("Violated salt")}return s},this.deriveDistributorTreasurerAddress=async A=>{if(!W(A))throw new Error("Invalid distributor address");const e=new C.rV.PublicKey(A),[t]=await C.rV.PublicKey.findProgramAddress([Z.from("treasurer"),e.toBuffer()],this.program.programId);return t.toBase58()},this.initializeDistributor=async A=>{let{tokenAddress:e,total:t,merkleRoot:i,metadata:r,startedAt:s=0,endedAt:n=0,distributor:a=C.rV.Keypair.generate(),feeOptions:o=H(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:c=!0}=A;const{fee:d,feeCollectorAddress:l}=o;if(!W(l))throw new Error("Invalid fee collector address");if(!W(e))throw new Error("Invalid token address");if(!(u=i)||32!==u.length)throw new Error("Invalid merkle root");var u;if(t.isNeg())throw new Error("The total must not be negative");if(32!==r.length)throw new Error("Invalid metadata path");const g=a.publicKey.toBase58(),p=new C.rV.PublicKey(e),m=await C.P6.token.associatedAddress({mint:p,owner:this._provider.wallet.publicKey}),h=await this.deriveDistributorTreasurerAddress(g),y=new C.rV.PublicKey(h),I=await C.P6.token.associatedAddress({mint:p,owner:y}),B=await this.program.methods.initializeDistributor([...i],t,new C.BN(n),new C.BN(s),[...r],d).accounts({authority:this._provider.wallet.publicKey,distributor:a.publicKey,src:m,treasurer:y,treasury:I,feeCollector:new C.rV.PublicKey(l),mint:p,tokenProgram:C.P6.token.TOKEN_PROGRAM_ID,associatedTokenProgram:C.P6.token.ASSOCIATED_PROGRAM_ID,systemProgram:C.rV.SystemProgram.programId,rent:C.rV.SYSVAR_RENT_PUBKEY}).signers([a]);return{tx:await B.transaction(),txId:c?await B.rpc({commitment:"confirmed"}):"",distributorAddress:g}},this.claim=async A=>{let{distributorAddress:e,proof:t,data:i,feeOptions:r=H(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:s=!0}=A;const{fee:n,feeCollectorAddress:a}=r;if(!W(a))throw new Error("Invalid fee collector address");if(!W(e))throw new Error("Invalid distributor address");if(!this._provider.wallet.publicKey.equals(i.authority))throw new Error("Invalid athority address");const{mint:o}=await this.getDistributorData(e),c=await this.deriveReceiptAddress(i.salt,e),d=await C.P6.token.associatedAddress({mint:o,owner:this._provider.wallet.publicKey}),l=await this.deriveDistributorTreasurerAddress(e),u=new C.rV.PublicKey(l),g=await C.P6.token.associatedAddress({mint:o,owner:u}),p=await this.program.methods.claim(t.map((A=>A.toJSON().data)),new C.BN(1),i.startedAt,i.salt.toJSON().data,n,i.chequeAddress).accounts({authority:this._provider.wallet.publicKey,distributor:new C.rV.PublicKey(e),receipt:new C.rV.PublicKey(c),dst:d,treasurer:u,treasury:g,feeCollector:new C.rV.PublicKey(a),mint:o,tokenProgram:C.P6.token.TOKEN_PROGRAM_ID,associatedTokenProgram:C.P6.token.ASSOCIATED_PROGRAM_ID,systemProgram:C.rV.SystemProgram.programId,rent:C.rV.SYSVAR_RENT_PUBKEY});return{tx:await p.transaction(),txId:s?await p.rpc({commitment:"confirmed"}):"",dstAddress:d.toBase58()}},!W(e))throw new Error("Invalid program id");this._provider=A,this.program=new C.$r(q,e,this._provider)}},$=A=>{let{children:e}=A;const t=(0,s.useWalletAddress)(),[r,n]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(r)return;const A=(0,Y.getAnchorProvider)(s.rpc,t,window.sentre.solana),e=new _(A,u.sol.leFlashId);window.leFlash=e,n(!0)}),[t,r]),r?(0,p.jsx)(i.Fragment,{children:e}):null};var AA=t(48744),eA=t.n(AA),tA=t(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const iA={serializableCheck:{isSerializable:A=>"undefined"===typeof A||null===A||"string"===typeof A||"boolean"===typeof A||"number"===typeof A||Array.isArray(A)||(A=>{if(null===A)return!1;const e=Object.getPrototypeOf(A);return null!==e&&null===Object.getPrototypeOf(e)})(A)||"bigint"===typeof A||A instanceof z.PublicKey||A instanceof eA()||tA.isBuffer(A)}},rA=(0,M.configureStore)({middleware:A=>A(iA),devTools:!1,reducer:{main:R}});var sA=t(45597);const{manifest:{appId:nA}}=u,aA=(0,i.memo)((()=>(0,p.jsx)(r.Provider,{store:rA,children:(0,p.jsx)($,{children:(0,p.jsx)(N,{})})}))),oA=()=>{const A=(0,s.useSetBackground)();return(0,i.useEffect)((()=>{A({light:"#1D2127",dark:"#1D2127"})}),[A]),(0,p.jsx)(aA,{})},cA=()=>(0,p.jsx)(s.AntdProvider,{appId:nA,prefixCls:nA,children:(0,p.jsx)(oA,{})})},83272:(A,e,t)=>{"use strict";A.exports=t.p+"static/media/README.ff93448fef94ea73029b.md"},69363:A=>{"use strict";A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAhCAYAAAC803lsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMSSURBVHgBtZixbhNBEIb/vbNJA04gCiDhiFCABEZIdIQC0YB4gYQaBR4gRLTYqVF4AuABIBIlhArRINFAkbiObIciEWBZFNg+7/LP5myfja3c7ZlfOu/pvN75dmd29sYKY/SrhNta4QJvTxmDGaSQUqiz+ekZfD1ZwreRfUYBGIXLBtjXBp8xQXkKizR4SRm8GwYaAPmxjlU2lUkDjAJiMzNbxMt/QAjxwAQoGx9VOGrqGHLNFhpx+qoO5pWPwmwJryycfNAdCzCYTgPBgZbjQojEFt1/3NpGCKKBFV6v4SiBYEBeQUIRZDNQuBOOwQcK+3CU8jDPAde4szbhIE7gjAWRpWGgfIerNDYZfIYrug0HcQftCYOsyAIcxbywzknkefse7pK4mvHgKIkL7rmHcu/qlq4CV5AwLtbtvULV1S1RJQaRXCFxQZfkwkdp3OIO0m5iLYwLq7RucQPReNSNC9Gk3CLKxO0occHmcfQZ40RmIitSJaBcNT6stgPU/IRZOhaIxEWrNRAXXRKBk6vA7yodjTJXbTqbQY4wSAITC6Td6uWLBme9zdO5RoNlz0eFBsticCqLnGkTKoMCAQtZH/fY/ybdZzoGN1KD2FXQeJH1UGwSRAy2Q4PMios0eJ/dCoQ9DGAz8POGDnAXPo7UkSAct2E87DRxeHRzBeRdIq815pna85xxjjsnP+bnxbgneuxgtVBydOv+wDoye19hi0BXI903kpzozik+KptpIxDhtn6eYIgJgWjrrj5EgCUk1ERAGNHL/dv4cTFREJvoTG9FNgKDLTgoPUjXLQo7SeNiGGQXaaTs+2qVFcAKHMWtW/dY6Owy4s/BQV23cBevulYAYluKLesafpyFg0K3bKQpyGj7T9gCHeBDWH0lJGGGTRMXGgWejV96IHMlfGSzYN++Eohx8QaOsm71ce10WAMP1L4HT/FEZfApmsb/h8JMfGuuiGe9Z8OdWAOvMABPpKn8xklWnCf3Esff69a8Y0FEUvB0FK6zbrlIoN/033mkkfw/YtBhRXnAMd9yl9SHu/wFvSQRM8TffngAAAAASUVORK5CYII="},70854:(A,e,t)=>{"use strict";A.exports=t.p+"static/media/panel.6ce7bc345912340df001.png"},7420:()=>{},95856:()=>{},46601:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx.a2245ae8.chunk.js.map